import ipaddress

# Given list of used /30 subnets
used_subnets = [
    '10.159.250.100/30', '10.159.250.112/30', '10.159.250.176/30', '10.159.250.172/30',
    '10.159.250.248/30', '10.159.250.56/30', '10.159.250.60/30', '10.159.250.244/30',
    '10.159.250.64/30', '10.159.250.172/30', '10.159.250.220/30', '10.159.250.248/30',
    '10.159.250.100/30', '10.159.250.20/30', '10.159.250.236/30', '10.159.250.60/30',
    '10.159.250.64/30', '10.159.250.56/30', '10.159.250.4/30', '10.159.250.28/30',
    '10.159.250.144/30', '10.159.250.8/30', '10.159.250.136/30', '10.159.250.196/30',
    '10.159.250.28/30', '10.159.250.136/30', '10.159.250.144/30', '10.159.250.196/30',
    '10.159.250.124/30', '10.159.250.116/30', '10.159.250.160/30', '10.159.250.92/30',
    '10.159.250.236/30', '10.159.250.116/30', '10.159.250.120/30', '10.159.250.68/30',
    '10.159.250.236/30', '10.159.250.132/30', '10.159.250.124/30', '10.159.250.128/30',
    '10.159.250.4/30', '10.159.250.8/30', '10.159.250.200/30', '10.159.250.204/30',
    '10.159.250.112/30', '10.159.250.128/30', '10.159.250.120/30', '10.159.250.164/30',
    '10.159.250.88/30', '10.159.250.160/30', '10.159.250.164/30', '10.159.250.220/30',
    '10.159.250.216/30', '10.159.250.176/30', '10.159.250.68/30', '10.159.250.200/30',
    '10.159.250.12/30', '10.159.250.204/30', '10.159.250.12/30', '10.159.250.132/30',
    '10.159.250.140/30', '10.159.250.140/30'
]

# Convert list to ip_network objects
used_networks = [ipaddress.ip_network(subnet) for subnet in used_subnets]

# Function to find free /31 subnets
def find_free_subnets(used_networks, base_network):
    free_subnets = []
    for subnet in base_network.subnets(new_prefix=31):
        if not any(subnet.overlaps(used) for used in used_networks):
            free_subnets.append(subnet)
    return free_subnets

# Define the base network
base_network = ipaddress.ip_network('10.159.250.0/24')

# Find free /31 subnets
free_subnets = find_free_subnets(used_networks, base_network)

# Print the free subnets
print("Free /31 subnets:")
for subnet in free_subnets:
    print(subnet)